/*! jQuery UI - v1.8.22 - 2012-07-24
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.core.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
(function(a,b){function c(b,c){var e=b.nodeName.toLowerCase();if("area"===e){var f=b.parentNode,g=f.name,h;return!b.href||!g||f.nodeName.toLowerCase()!=="map"?!1:(h=a("img[usemap=#"+g+"]")[0],!!h&&d(h))}return(/input|select|textarea|button|object/.test(e)?!b.disabled:"a"==e?b.href||c:c)&&d(b)}function d(b){return!a(b).parents().andSelf().filter(function(){return a.curCSS(this,"visibility")==="hidden"||a.expr.filters.hidden(this)}).length}a.ui=a.ui||{};if(a.ui.version)return;a.extend(a.ui,{version:"1.8.22",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),a.fn.extend({propAttr:a.fn.prop||a.fn.attr,_focus:a.fn.focus,focus:function(b,c){return typeof b=="number"?this.each(function(){var d=this;setTimeout(function(){a(d).focus(),c&&c.call(d)},b)}):this._focus.apply(this,arguments)},scrollParent:function(){var b;return a.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?b=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.curCSS(this,"position",1))&&/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0):b=this.parents().filter(function(){return/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0),/fixed/.test(this.css("position"))||!b.length?a(document):b},zIndex:function(c){if(c!==b)return this.css("zIndex",c);if(this.length){var d=a(this[0]),e,f;while(d.length&&d[0]!==document){e=d.css("position");if(e==="absolute"||e==="relative"||e==="fixed"){f=parseInt(d.css("zIndex"),10);if(!isNaN(f)&&f!==0)return f}d=d.parent()}}return 0},disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(c,d){function h(b,c,d,f){return a.each(e,function(){c-=parseFloat(a.curCSS(b,"padding"+this,!0))||0,d&&(c-=parseFloat(a.curCSS(b,"border"+this+"Width",!0))||0),f&&(c-=parseFloat(a.curCSS(b,"margin"+this,!0))||0)}),c}var e=d==="Width"?["Left","Right"]:["Top","Bottom"],f=d.toLowerCase(),g={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+d]=function(c){return c===b?g["inner"+d].call(this):this.each(function(){a(this).css(f,h(this,c)+"px")})},a.fn["outer"+d]=function(b,c){return typeof b!="number"?g["outer"+d].call(this,b):this.each(function(){a(this).css(f,h(this,b,!0,c)+"px")})}}),a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,c,d){return!!a.data(b,d[3])},focusable:function(b){return c(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var d=a.attr(b,"tabindex"),e=isNaN(d);return(e||d>=0)&&c(b,!e)}}),a(function(){var b=document.body,c=b.appendChild(c=document.createElement("div"));c.offsetHeight,a.extend(c.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),a.support.minHeight=c.offsetHeight===100,a.support.selectstart="onselectstart"in c,b.removeChild(c).style.display="none"}),a.curCSS||(a.curCSS=a.css),a.extend(a.ui,{plugin:{add:function(b,c,d){var e=a.ui[b].prototype;for(var f in d)e.plugins[f]=e.plugins[f]||[],e.plugins[f].push([c,d[f]])},call:function(a,b,c){var d=a.plugins[b];if(!d||!a.element[0].parentNode)return;for(var e=0;e<d.length;e++)a.options[d[e][0]]&&d[e][1].apply(a.element,c)}},contains:function(a,b){return document.compareDocumentPosition?a.compareDocumentPosition(b)&16:a!==b&&a.contains(b)},hasScroll:function(b,c){if(a(b).css("overflow")==="hidden")return!1;var d=c&&c==="left"?"scrollLeft":"scrollTop",e=!1;return b[d]>0?!0:(b[d]=1,e=b[d]>0,b[d]=0,e)},isOverAxis:function(a,b,c){return a>b&&a<b+c},isOver:function(b,c,d,e,f,g){return a.ui.isOverAxis(b,d,f)&&a.ui.isOverAxis(c,e,g)}})})(jQuery);;/*! jQuery UI - v1.8.22 - 2012-07-24
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.widget.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
(function(a,b){if(a.cleanData){var c=a.cleanData;a.cleanData=function(b){for(var d=0,e;(e=b[d])!=null;d++)try{a(e).triggerHandler("remove")}catch(f){}c(b)}}else{var d=a.fn.remove;a.fn.remove=function(b,c){return this.each(function(){return c||(!b||a.filter(b,[this]).length)&&a("*",this).add([this]).each(function(){try{a(this).triggerHandler("remove")}catch(b){}}),d.call(a(this),b,c)})}}a.widget=function(b,c,d){var e=b.split(".")[0],f;b=b.split(".")[1],f=e+"-"+b,d||(d=c,c=a.Widget),a.expr[":"][f]=function(c){return!!a.data(c,b)},a[e]=a[e]||{},a[e][b]=function(a,b){arguments.length&&this._createWidget(a,b)};var g=new c;g.options=a.extend(!0,{},g.options),a[e][b].prototype=a.extend(!0,g,{namespace:e,widgetName:b,widgetEventPrefix:a[e][b].prototype.widgetEventPrefix||b,widgetBaseClass:f},d),a.widget.bridge(b,a[e][b])},a.widget.bridge=function(c,d){a.fn[c]=function(e){var f=typeof e=="string",g=Array.prototype.slice.call(arguments,1),h=this;return e=!f&&g.length?a.extend.apply(null,[!0,e].concat(g)):e,f&&e.charAt(0)==="_"?h:(f?this.each(function(){var d=a.data(this,c),f=d&&a.isFunction(d[e])?d[e].apply(d,g):d;if(f!==d&&f!==b)return h=f,!1}):this.each(function(){var b=a.data(this,c);b?b.option(e||{})._init():a.data(this,c,new d(e,this))}),h)}},a.Widget=function(a,b){arguments.length&&this._createWidget(a,b)},a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(b,c){a.data(c,this.widgetName,this),this.element=a(c),this.options=a.extend(!0,{},this.options,this._getCreateOptions(),b);var d=this;this.element.bind("remove."+this.widgetName,function(){d.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){return a.metadata&&a.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled "+"ui-state-disabled")},widget:function(){return this.element},option:function(c,d){var e=c;if(arguments.length===0)return a.extend({},this.options);if(typeof c=="string"){if(d===b)return this.options[c];e={},e[c]=d}return this._setOptions(e),this},_setOptions:function(b){var c=this;return a.each(b,function(a,b){c._setOption(a,b)}),this},_setOption:function(a,b){return this.options[a]=b,a==="disabled"&&this.widget()[b?"addClass":"removeClass"](this.widgetBaseClass+"-disabled"+" "+"ui-state-disabled").attr("aria-disabled",b),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(b,c,d){var e,f,g=this.options[b];d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent;if(f)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,d),!(a.isFunction(g)&&g.call(this.element[0],c,d)===!1||c.isDefaultPrevented())}}})(jQuery);;/*! jQuery UI - v1.8.22 - 2012-07-24
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.mouse.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
(function(a,b){var c=!1;a(document).mouseup(function(a){c=!1}),a.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(a){return b._mouseDown(a)}).bind("click."+this.widgetName,function(c){if(!0===a.data(c.target,b.widgetName+".preventClickEvent"))return a.removeData(c.target,b.widgetName+".preventClickEvent"),c.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(b){if(c)return;this._mouseStarted&&this._mouseUp(b),this._mouseDownEvent=b;var d=this,e=b.which==1,f=typeof this.options.cancel=="string"&&b.target.nodeName?a(b.target).closest(this.options.cancel).length:!1;if(!e||f||!this._mouseCapture(b))return!0;this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){d.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)){this._mouseStarted=this._mouseStart(b)!==!1;if(!this._mouseStarted)return b.preventDefault(),!0}return!0===a.data(b.target,this.widgetName+".preventClickEvent")&&a.removeData(b.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(a){return d._mouseMove(a)},this._mouseUpDelegate=function(a){return d._mouseUp(a)},a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),b.preventDefault(),c=!0,!0},_mouseMove:function(b){return!a.browser.msie||document.documentMode>=9||!!b.button?this._mouseStarted?(this._mouseDrag(b),b.preventDefault()):(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,b)!==!1,this._mouseStarted?this._mouseDrag(b):this._mouseUp(b)),!this._mouseStarted):this._mouseUp(b)},_mouseUp:function(b){return a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,b.target==this._mouseDownEvent.target&&a.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b)),!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(a){return this.mouseDelayMet},_mouseStart:function(a){},_mouseDrag:function(a){},_mouseStop:function(a){},_mouseCapture:function(a){return!0}})})(jQuery);;/*! jQuery UI - v1.8.22 - 2012-07-24
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.slider.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
(function(a,b){var c=5;a.widget("ui.slider",a.ui.mouse,{widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var b=this,d=this.options,e=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),f="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",g=d.values&&d.values.length||1,h=[];this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all"+(d.disabled?" ui-slider-disabled ui-disabled":"")),this.range=a([]),d.range&&(d.range===!0&&(d.values||(d.values=[this._valueMin(),this._valueMin()]),d.values.length&&d.values.length!==2&&(d.values=[d.values[0],d.values[0]])),this.range=a("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+(d.range==="min"||d.range==="max"?" ui-slider-range-"+d.range:"")));for(var i=e.length;i<g;i+=1)h.push(f);this.handles=e.add(a(h.join("")).appendTo(b.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(a){a.preventDefault()}).hover(function(){d.disabled||a(this).addClass("ui-state-hover")},function(){a(this).removeClass("ui-state-hover")}).focus(function(){d.disabled?a(this).blur():(a(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),a(this).addClass("ui-state-focus"))}).blur(function(){a(this).removeClass("ui-state-focus")}),this.handles.each(function(b){a(this).data("index.ui-slider-handle",b)}),this.handles.keydown(function(d){var e=a(this).data("index.ui-slider-handle"),f,g,h,i;if(b.options.disabled)return;switch(d.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:d.preventDefault();if(!b._keySliding){b._keySliding=!0,a(this).addClass("ui-state-active"),f=b._start(d,e);if(f===!1)return}}i=b.options.step,b.options.values&&b.options.values.length?g=h=b.values(e):g=h=b.value();switch(d.keyCode){case a.ui.keyCode.HOME:h=b._valueMin();break;case a.ui.keyCode.END:h=b._valueMax();break;case a.ui.keyCode.PAGE_UP:h=b._trimAlignValue(g+(b._valueMax()-b._valueMin())/c);break;case a.ui.keyCode.PAGE_DOWN:h=b._trimAlignValue(g-(b._valueMax()-b._valueMin())/c);break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(g===b._valueMax())return;h=b._trimAlignValue(g+i);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(g===b._valueMin())return;h=b._trimAlignValue(g-i)}b._slide(d,e,h)}).keyup(function(c){var d=a(this).data("index.ui-slider-handle");b._keySliding&&(b._keySliding=!1,b._stop(c,d),b._change(c,d),a(this).removeClass("ui-state-active"))}),this._refreshValue(),this._animateOff=!1},destroy:function(){return this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider"),this._mouseDestroy(),this},_mouseCapture:function(b){var c=this.options,d,e,f,g,h,i,j,k,l;return c.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),d={x:b.pageX,y:b.pageY},e=this._normValueFromMouse(d),f=this._valueMax()-this._valueMin()+1,h=this,this.handles.each(function(b){var c=Math.abs(e-h.values(b));f>c&&(f=c,g=a(this),i=b)}),c.range===!0&&this.values(1)===c.min&&(i+=1,g=a(this.handles[i])),j=this._start(b,i),j===!1?!1:(this._mouseSliding=!0,h._handleIndex=i,g.addClass("ui-state-active").focus(),k=g.offset(),l=!a(b.target).parents().andSelf().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:b.pageX-k.left-g.width()/2,top:b.pageY-k.top-g.height()/2-(parseInt(g.css("borderTopWidth"),10)||0)-(parseInt(g.css("borderBottomWidth"),10)||0)+(parseInt(g.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(b,i,e),this._animateOff=!0,!0))},_mouseStart:function(a){return!0},_mouseDrag:function(a){var b={x:a.pageX,y:a.pageY},c=this._normValueFromMouse(b);return this._slide(a,this._handleIndex,c),!1},_mouseStop:function(a){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(a,this._handleIndex),this._change(a,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(a){var b,c,d,e,f;return this.orientation==="horizontal"?(b=this.elementSize.width,c=a.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(b=this.elementSize.height,c=a.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),d=c/b,d>1&&(d=1),d<0&&(d=0),this.orientation==="vertical"&&(d=1-d),e=this._valueMax()-this._valueMin(),f=this._valueMin()+d*e,this._trimAlignValue(f)},_start:function(a,b){var c={handle:this.handles[b],value:this.value()};return this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("start",a,c)},_slide:function(a,b,c){var d,e,f;this.options.values&&this.options.values.length?(d=this.values(b?0:1),this.options.values.length===2&&this.options.range===!0&&(b===0&&c>d||b===1&&c<d)&&(c=d),c!==this.values(b)&&(e=this.values(),e[b]=c,f=this._trigger("slide",a,{handle:this.handles[b],value:c,values:e}),d=this.values(b?0:1),f!==!1&&this.values(b,c,!0))):c!==this.value()&&(f=this._trigger("slide",a,{handle:this.handles[b],value:c}),f!==!1&&this.value(c))},_stop:function(a,b){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("stop",a,c)},_change:function(a,b){if(!this._keySliding&&!this._mouseSliding){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("change",a,c)}},value:function(a){if(arguments.length){this.options.value=this._trimAlignValue(a),this._refreshValue(),this._change(null,0);return}return this._value()},values:function(b,c){var d,e,f;if(arguments.length>1){this.options.values[b]=this._trimAlignValue(c),this._refreshValue(),this._change(null,b);return}if(!arguments.length)return this._values();if(!a.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(b):this.value();d=this.options.values,e=arguments[0];for(f=0;f<d.length;f+=1)d[f]=this._trimAlignValue(e[f]),this._change(null,f);this._refreshValue()},_setOption:function(b,c){var d,e=0;a.isArray(this.options.values)&&(e=this.options.values.length),a.Widget.prototype._setOption.apply(this,arguments);switch(b){case"disabled":c?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.propAttr("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.propAttr("disabled",!1),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":this._animateOff=!0,this._refreshValue();for(d=0;d<e;d+=1)this._change(null,d);this._animateOff=!1}},_value:function(){var a=this.options.value;return a=this._trimAlignValue(a),a},_values:function(a){var b,c,d;if(arguments.length)return b=this.options.values[a],b=this._trimAlignValue(b),b;c=this.options.values.slice();for(d=0;d<c.length;d+=1)c[d]=this._trimAlignValue(c[d]);return c},_trimAlignValue:function(a){if(a<=this._valueMin())return this._valueMin();if(a>=this._valueMax())return this._valueMax();var b=this.options.step>0?this.options.step:1,c=(a-this._valueMin())%b,d=a-c;return Math.abs(c)*2>=b&&(d+=c>0?b:-b),parseFloat(d.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var b=this.options.range,c=this.options,d=this,e=this._animateOff?!1:c.animate,f,g={},h,i,j,k;this.options.values&&this.options.values.length?this.handles.each(function(b,i){f=(d.values(b)-d._valueMin())/(d._valueMax()-d._valueMin())*100,g[d.orientation==="horizontal"?"left":"bottom"]=f+"%",a(this).stop(1,1)[e?"animate":"css"](g,c.animate),d.options.range===!0&&(d.orientation==="horizontal"?(b===0&&d.range.stop(1,1)[e?"animate":"css"]({left:f+"%"},c.animate),b===1&&d.range[e?"animate":"css"]({width:f-h+"%"},{queue:!1,duration:c.animate})):(b===0&&d.range.stop(1,1)[e?"animate":"css"]({bottom:f+"%"},c.animate),b===1&&d.range[e?"animate":"css"]({height:f-h+"%"},{queue:!1,duration:c.animate}))),h=f}):(i=this.value(),j=this._valueMin(),k=this._valueMax(),f=k!==j?(i-j)/(k-j)*100:0,g[d.orientation==="horizontal"?"left":"bottom"]=f+"%",this.handle.stop(1,1)[e?"animate":"css"](g,c.animate),b==="min"&&this.orientation==="horizontal"&&this.range.stop(1,1)[e?"animate":"css"]({width:f+"%"},c.animate),b==="max"&&this.orientation==="horizontal"&&this.range[e?"animate":"css"]({width:100-f+"%"},{queue:!1,duration:c.animate}),b==="min"&&this.orientation==="vertical"&&this.range.stop(1,1)[e?"animate":"css"]({height:f+"%"},c.animate),b==="max"&&this.orientation==="vertical"&&this.range[e?"animate":"css"]({height:100-f+"%"},{queue:!1,duration:c.animate}))}}),a.extend(a.ui.slider,{version:"1.8.22"})})(jQuery);;

/*****jquery.imagesloaded.min.js**/
(function(c,n){var k="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";c.fn.imagesLoaded=function(l){function m(){var b=c(h),a=c(g);d&&(g.length?d.reject(e,b,a):d.resolve(e));c.isFunction(l)&&l.call(f,e,b,a)}function i(b,a){b.src===k||-1!==c.inArray(b,j)||(j.push(b),a?g.push(b):h.push(b),c.data(b,"imagesLoaded",{isBroken:a,src:b.src}),o&&d.notifyWith(c(b),[a,e,c(h),c(g)]),e.length===j.length&&(setTimeout(m),e.unbind(".imagesLoaded")))}var f=this,d=c.isFunction(c.Deferred)?c.Deferred():
0,o=c.isFunction(d.notify),e=f.find("img").add(f.filter("img")),j=[],h=[],g=[];e.length?e.bind("load.imagesLoaded error.imagesLoaded",function(b){i(b.target,"error"===b.type)}).each(function(b,a){var e=a.src,d=c.data(a,"imagesLoaded");if(d&&d.src===e)i(a,d.isBroken);else if(a.complete&&a.naturalWidth!==n)i(a,0===a.naturalWidth||0===a.naturalHeight);else if(a.readyState||a.complete)a.src=k,a.src=e}):m();return d?d.promise(f):f}})(jQuery);

/****video.js****/
/*!
Video.js - HTML5 Video Player
Version 3.2.0

LGPL v3 LICENSE INFO
This file is part of Video.js. Copyright 2011 Zencoder, Inc.

Video.js is free software: you can redistribute it and/or modify
it under the terms of the GNU Lesser General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

Video.js is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU Lesser General Public License for more details.

You should have received a copy of the GNU Lesser General Public License
along with Video.js.  If not, see <http://www.gnu.org/licenses/>.
*/(function(window,undefined){function returnTrue(){return true}function returnFalse(){return false}var document=window.document;document.createElement("video");document.createElement("audio");var VideoJS=function(e,t,n){var r;if(typeof e=="string"){if(e.indexOf("#")===0){e=e.slice(1)}if(_V_.players[e]){return _V_.players[e]}else{r=_V_.el(e)}}else{r=e}if(!r||!r.nodeName){throw new TypeError("The element or ID supplied is not valid. (VideoJS)")}return r.player||new _V_.Player(r,t,n)},_V_=VideoJS,CDN_VERSION="c";VideoJS.players={};VideoJS.options={techOrder:["html5","flash"],html5:{},flash:{swf:"http://vjs.zencdn.net/c/video-js.swf"},width:"auto",height:"auto",defaultVolume:0,components:{posterImage:{},textTrackDisplay:{},loadingSpinner:{},bigPlayButton:{},controlBar:{}}};if(CDN_VERSION!="GENERATED_CDN_VSN"){_V_.options.flash.swf="http://vjs.zencdn.net/"+CDN_VERSION+"/video-js.swf"}_V_.merge=function(e,t,n){if(!t){t={}}for(var r in t){if(t.hasOwnProperty(r)&&(!n||!e.hasOwnProperty(r))){e[r]=t[r]}}return e};_V_.extend=function(e){this.merge(this,e,true)};_V_.extend({tech:{},controlSets:{},isIE:function(){return!+"1"},isFF:function(){return!!_V_.ua.match("Firefox")},isIPad:function(){return navigator.userAgent.match(/iPad/i)!==null},isIPhone:function(){return navigator.userAgent.match(/iPhone/i)!==null},isIOS:function(){return VideoJS.isIPhone()||VideoJS.isIPad()},iOSVersion:function(){var e=navigator.userAgent.match(/OS (\d+)_/i);if(e&&e[1]){return e[1]}},isAndroid:function(){return navigator.userAgent.match(/Android.*AppleWebKit/i)!==null},androidVersion:function(){var e=navigator.userAgent.match(/Android (\d+)\./i);if(e&&e[1]){return e[1]}},testVid:document.createElement("video"),ua:navigator.userAgent,support:{},each:function(e,t){if(!e||e.length===0){return}for(var n=0,r=e.length;n<r;n++){t.call(this,e[n],n)}},eachProp:function(e,t){if(!e){return}for(var n in e){if(e.hasOwnProperty(n)){t.call(this,n,e[n])}}},el:function(e){return document.getElementById(e)},createElement:function(e,t){var n=document.createElement(e),r;for(r in t){if(t.hasOwnProperty(r)){if(r.indexOf("-")!==-1){n.setAttribute(r,t[r])}else{n[r]=t[r]}}}return n},insertFirst:function(e,t){if(t.firstChild){t.insertBefore(e,t.firstChild)}else{t.appendChild(e)}},addClass:function(e,t){if((" "+e.className+" ").indexOf(" "+t+" ")==-1){e.className=e.className===""?t:e.className+" "+t}},removeClass:function(e,t){if(e.className.indexOf(t)==-1){return}var n=e.className.split(" ");n.splice(n.indexOf(t),1);e.className=n.join(" ")},remove:function(e,t){if(!t){return}var n=t.indexOf(e);if(n!=-1){return t.splice(n,1)}},blockTextSelection:function(){document.body.focus();document.onselectstart=function(){return false}},unblockTextSelection:function(){document.onselectstart=function(){return true}},formatTime:function(e,t){t=t||e;var n=Math.floor(e%60),r=Math.floor(e/60%60),i=Math.floor(e/3600),s=Math.floor(t/60%60),o=Math.floor(t/3600);i=i>0||o>0?i+":":"";r=((i||s>=10)&&r<10?"0"+r:r)+":";n=n<10?"0"+n:n;return i+r+n},uc:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},getRelativePosition:function(e,t){return Math.max(0,Math.min(1,(e-_V_.findPosX(t))/t.offsetWidth))},getComputedStyleValue:function(e,t){return window.getComputedStyle(e,null).getPropertyValue(t)},trim:function(e){return e.toString().replace(/^\s+/,"").replace(/\s+$/,"")},round:function(e,t){if(!t){t=0}return Math.round(e*Math.pow(10,t))/Math.pow(10,t)},isEmpty:function(e){for(var t in e){return false}return true},createTimeRange:function(e,t){return{length:1,start:function(){return e},end:function(){return t}}},cache:{},guid:1,expando:"vdata"+(new Date).getTime(),getData:function(e){var t=e[_V_.expando];if(!t){t=e[_V_.expando]=_V_.guid++;_V_.cache[t]={}}return _V_.cache[t]},removeData:function(e){var t=e[_V_.expando];if(!t){return}delete _V_.cache[t];try{delete e[_V_.expando]}catch(n){if(e.removeAttribute){e.removeAttribute(_V_.expando)}else{e[_V_.expando]=null}}},proxy:function(e,t,n){if(!t.guid){t.guid=_V_.guid++}var r=function(){return t.apply(e,arguments)};r.guid=n?n+"_"+t.guid:t.guid;return r},get:function(e,t,n){var r=e.indexOf("file:")==0||window.location.href.indexOf("file:")==0&&e.indexOf("http:")==-1;if(typeof XMLHttpRequest=="undefined"){XMLHttpRequest=function(){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(n){}throw new Error("This browser does not support XMLHttpRequest.")}}var i=new XMLHttpRequest;try{i.open("GET",e)}catch(s){_V_.log("VideoJS XMLHttpRequest (open)",s);return false}i.onreadystatechange=_V_.proxy(this,function(){if(i.readyState==4){if(i.status==200||r&&i.status==0){t(i.responseText)}else{if(n){n()}}}});try{i.send()}catch(s){_V_.log("VideoJS XMLHttpRequest (send)",s);if(n){n(s)}}},setLocalStorage:function(e,t){var n=window.localStorage||false;if(!n){return}try{n[e]=t}catch(r){if(r.code==22||r.code==1014){_V_.log("LocalStorage Full (VideoJS)",r)}else{_V_.log("LocalStorage Error (VideoJS)",r)}}},getAbsoluteURL:function(e){if(!e.match(/^https?:\/\//)){e=_V_.createElement("div",{innerHTML:'<a href="'+e+'">x</a>'}).firstChild.href}return e}});_V_.log=function(){_V_.log.history=_V_.log.history||[];_V_.log.history.push(arguments);if(window.console){arguments.callee=arguments.callee.caller;var e=[].slice.call(arguments);typeof console.log==="object"?_V_.log.apply.call(console.log,console,e):console.log.apply(console,e)}};(function(e){function t(){}for(var n="assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,timeStamp,profile,profileEnd,time,timeEnd,trace,warn".split(","),r;r=n.pop();){e[r]=e[r]||t}})(function(){try{console.log();return window.console}catch(e){return window.console={}}}());if("getBoundingClientRect"in document.documentElement){_V_.findPosX=function(e){var t;try{t=e.getBoundingClientRect()}catch(n){}if(!t){return 0}var r=document.documentElement,i=document.body,s=r.clientLeft||i.clientLeft||0,o=window.pageXOffset||i.scrollLeft,u=t.left+o-s;return u}}else{_V_.findPosX=function(e){var t=e.offsetLeft;while(e=obj.offsetParent){if(e.className.indexOf("video-js")==-1){}else{}t+=e.offsetLeft}return t}}(function(){var e=false,t=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;_V_.Class=function(){};_V_.Class.extend=function(n){function o(){if(!e&&this.init){return this.init.apply(this,arguments)}else{if(!e){return arguments.callee.prototype.init()}}}var r=this.prototype;e=true;var i=new this;e=false;for(var s in n){i[s]=typeof n[s]=="function"&&typeof r[s]=="function"&&t.test(n[s])?function(e,t){return function(){var n=this._super;this._super=r[e];var i=t.apply(this,arguments);this._super=n;return i}}(s,n[s]):n[s]}o.prototype=i;o.constructor=o;o.extend=arguments.callee;return o}})();_V_.Component=_V_.Class.extend({init:function(e,t){this.player=e;t=this.options=_V_.merge(this.options||{},t);if(t.el){this.el=t.el}else{this.el=this.createElement()}this.initComponents()},destroy:function(){},createElement:function(e,t){return _V_.createElement(e||"div",t)},buildCSSClass:function(){return""},initComponents:function(){var e=this.options;if(e&&e.components){this.eachProp(e.components,function(e,t){var n=this.proxy(function(){this[e]=this.addComponent(e,t)});if(t.loadEvent){this.one(t.loadEvent,n)}else{n()}})}},addComponent:function(e,t){var n,r;if(typeof e=="string"){t=t||{};r=t.componentClass||_V_.uc(e);n=new _V_[r](this.player||this,t)}else{n=e}this.el.appendChild(n.el);return n},removeComponent:function(e){this.el.removeChild(e.el)},show:function(){this.el.style.display="block"},hide:function(){this.el.style.display="none"},fadeIn:function(){this.removeClass("vjs-fade-out");this.addClass("vjs-fade-in")},fadeOut:function(){this.removeClass("vjs-fade-in");this.addClass("vjs-fade-out")},lockShowing:function(){var e=this.el.style;e.display="block";e.opacity=1;e.visiblity="visible"},unlockShowing:function(){var e=this.el.style;e.display="";e.opacity="";e.visiblity=""},addClass:function(e){_V_.addClass(this.el,e)},removeClass:function(e){_V_.removeClass(this.el,e)},addEvent:function(e,t,n){return _V_.addEvent(this.el,e,_V_.proxy(this,t))},removeEvent:function(e,t){return _V_.removeEvent(this.el,e,t)},triggerEvent:function(e,t){return _V_.triggerEvent(this.el,e,t)},one:function(e,t){_V_.one(this.el,e,_V_.proxy(this,t))},ready:function(e){if(!e){return this}if(this.isReady){e.call(this)}else{if(this.readyQueue===undefined){this.readyQueue=[]}this.readyQueue.push(e)}return this},triggerReady:function(){this.isReady=true;if(this.readyQueue&&this.readyQueue.length>0){this.each(this.readyQueue,function(e){e.call(this)});this.readyQueue=[];this.triggerEvent("ready")}},each:function(e,t){_V_.each.call(this,e,t)},eachProp:function(e,t){_V_.eachProp.call(this,e,t)},extend:function(e){_V_.merge(this,e)},proxy:function(e,t){return _V_.proxy(this,e,t)}});_V_.Control=_V_.Component.extend({buildCSSClass:function(){return"vjs-control "+this._super()}});_V_.ControlBar=_V_.Component.extend({options:{loadEvent:"play",components:{playToggle:{},fullscreenToggle:{},currentTimeDisplay:{},timeDivider:{},durationDisplay:{},remainingTimeDisplay:{},progressControl:{},volumeControl:{},muteToggle:{}}},init:function(e,t){this._super(e,t);e.addEvent("play",this.proxy(function(){this.fadeIn();this.player.addEvent("mouseover",this.proxy(this.fadeIn));this.player.addEvent("mouseout",this.proxy(this.fadeOut))}))},createElement:function(){return _V_.createElement("div",{className:"vjs-controls"})},fadeIn:function(){this._super();this.player.triggerEvent("controlsvisible")},fadeOut:function(){this._super();this.player.triggerEvent("controlshidden")},lockShowing:function(){this.el.style.opacity="1"}});_V_.Button=_V_.Control.extend({init:function(e,t){this._super(e,t);this.addEvent("click",this.onClick);this.addEvent("focus",this.onFocus);this.addEvent("blur",this.onBlur)},createElement:function(e,t){t=_V_.merge({className:this.buildCSSClass(),innerHTML:'<div><span class="vjs-control-text">'+(this.buttonText||"Need Text")+"</span></div>",role:"button",tabIndex:0},t);return this._super(e,t)},onClick:function(){},onFocus:function(){_V_.addEvent(document,"keyup",_V_.proxy(this,this.onKeyPress))},onKeyPress:function(e){if(e.which==32||e.which==13){e.preventDefault();this.onClick()}},onBlur:function(){_V_.removeEvent(document,"keyup",_V_.proxy(this,this.onKeyPress))}});_V_.PlayButton=_V_.Button.extend({buttonText:"Play",buildCSSClass:function(){return"vjs-play-button "+this._super()},onClick:function(){this.player.play()}});_V_.PauseButton=_V_.Button.extend({buttonText:"Pause",buildCSSClass:function(){return"vjs-pause-button "+this._super()},onClick:function(){this.player.pause()}});_V_.PlayToggle=_V_.Button.extend({buttonText:"Play",init:function(e,t){this._super(e,t);e.addEvent("play",_V_.proxy(this,this.onPlay));e.addEvent("pause",_V_.proxy(this,this.onPause))},buildCSSClass:function(){return"vjs-play-control "+this._super()},onClick:function(){if(this.player.paused()){this.player.play()}else{this.player.pause()}},onPlay:function(){_V_.removeClass(this.el,"vjs-paused");_V_.addClass(this.el,"vjs-playing")},onPause:function(){_V_.removeClass(this.el,"vjs-playing");_V_.addClass(this.el,"vjs-paused")}});_V_.FullscreenToggle=_V_.Button.extend({buttonText:"Fullscreen",buildCSSClass:function(){return"vjs-fullscreen-control "+this._super()},onClick:function(){if(!this.player.isFullScreen){this.player.requestFullScreen()}else{this.player.cancelFullScreen()}}});_V_.BigPlayButton=_V_.Button.extend({init:function(e,t){this._super(e,t);e.addEvent("play",_V_.proxy(this,this.hide));e.addEvent("ended",_V_.proxy(this,this.show))},createElement:function(){return this._super("div",{className:"vjs-big-play-button",innerHTML:"<span></span>"})},onClick:function(){if(this.player.currentTime()){this.player.currentTime(0)}this.player.play()}});_V_.LoadingSpinner=_V_.Component.extend({init:function(e,t){this._super(e,t);e.addEvent("canplay",_V_.proxy(this,this.hide));e.addEvent("canplaythrough",_V_.proxy(this,this.hide));e.addEvent("playing",_V_.proxy(this,this.hide));e.addEvent("seeking",_V_.proxy(this,this.show));e.addEvent("error",_V_.proxy(this,this.show));e.addEvent("waiting",_V_.proxy(this,this.show))},createElement:function(){var e,t;if(typeof this.player.el.style.WebkitBorderRadius=="string"||typeof this.player.el.style.MozBorderRadius=="string"||typeof this.player.el.style.KhtmlBorderRadius=="string"||typeof this.player.el.style.borderRadius=="string"){e="vjs-loading-spinner";t="<div class='ball1'></div><div class='ball2'></div><div class='ball3'></div><div class='ball4'></div><div class='ball5'></div><div class='ball6'></div><div class='ball7'></div><div class='ball8'></div>"}else{e="vjs-loading-spinner-fallback";t=""}return this._super("div",{className:e,innerHTML:t})}});_V_.CurrentTimeDisplay=_V_.Component.extend({init:function(e,t){this._super(e,t);e.addEvent("timeupdate",_V_.proxy(this,this.updateContent))},createElement:function(){var e=this._super("div",{className:"vjs-current-time vjs-time-controls vjs-control"});this.content=_V_.createElement("div",{className:"vjs-current-time-display",innerHTML:"0:00"});e.appendChild(_V_.createElement("div").appendChild(this.content));return e},updateContent:function(){var e=this.player.scrubbing?this.player.values.currentTime:this.player.currentTime();this.content.innerHTML=_V_.formatTime(e,this.player.duration())}});_V_.DurationDisplay=_V_.Component.extend({init:function(e,t){this._super(e,t);e.addEvent("timeupdate",_V_.proxy(this,this.updateContent))},createElement:function(){var e=this._super("div",{className:"vjs-duration vjs-time-controls vjs-control"});this.content=_V_.createElement("div",{className:"vjs-duration-display",innerHTML:"0:00"});e.appendChild(_V_.createElement("div").appendChild(this.content));return e},updateContent:function(){if(this.player.duration()){this.content.innerHTML=_V_.formatTime(this.player.duration())}}});_V_.TimeDivider=_V_.Component.extend({createElement:function(){return this._super("div",{className:"vjs-time-divider",innerHTML:"<div><span>/</span></div>"})}});_V_.RemainingTimeDisplay=_V_.Component.extend({init:function(e,t){this._super(e,t);e.addEvent("timeupdate",_V_.proxy(this,this.updateContent))},createElement:function(){var e=this._super("div",{className:"vjs-remaining-time vjs-time-controls vjs-control"});this.content=_V_.createElement("div",{className:"vjs-remaining-time-display",innerHTML:"-0:00"});e.appendChild(_V_.createElement("div").appendChild(this.content));return e},updateContent:function(){if(this.player.duration()){this.content.innerHTML="-"+_V_.formatTime(this.player.remainingTime())}}});_V_.Slider=_V_.Component.extend({init:function(e,t){this._super(e,t);e.addEvent(this.playerEvent,_V_.proxy(this,this.update));this.addEvent("mousedown",this.onMouseDown);this.addEvent("focus",this.onFocus);this.addEvent("blur",this.onBlur);this.player.addEvent("controlsvisible",this.proxy(this.update));this.update()},createElement:function(e,t){t=_V_.merge({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},t);return this._super(e,t)},onMouseDown:function(e){e.preventDefault();_V_.blockTextSelection();_V_.addEvent(document,"mousemove",_V_.proxy(this,this.onMouseMove));_V_.addEvent(document,"mouseup",_V_.proxy(this,this.onMouseUp));this.onMouseMove(e)},onMouseUp:function(e){_V_.unblockTextSelection();_V_.removeEvent(document,"mousemove",this.onMouseMove,false);_V_.removeEvent(document,"mouseup",this.onMouseUp,false);this.update()},update:function(){var e,t=this.getPercent();handle=this.handle,bar=this.bar;if(isNaN(t)){t=0}e=t;if(handle){var n=this.el,r=n.offsetWidth,i=handle.el.offsetWidth,s=i?i/r:0,o=1-s;adjustedProgress=t*o,e=adjustedProgress+s/2;handle.el.style.left=_V_.round(adjustedProgress*100,2)+"%"}bar.el.style.width=_V_.round(e*100,2)+"%"},calculateDistance:function(e){var t=this.el,n=_V_.findPosX(t),r=t.offsetWidth,i=this.handle;if(i){var s=i.el.offsetWidth;n=n+s/2;r=r-s}return Math.max(0,Math.min(1,(e.pageX-n)/r))},onFocus:function(e){_V_.addEvent(document,"keyup",_V_.proxy(this,this.onKeyPress))},onKeyPress:function(e){if(e.which==37){e.preventDefault();this.stepBack()}else{if(e.which==39){e.preventDefault();this.stepForward()}}},onBlur:function(e){_V_.removeEvent(document,"keyup",_V_.proxy(this,this.onKeyPress))}});_V_.ProgressControl=_V_.Component.extend({options:{components:{seekBar:{}}},createElement:function(){return this._super("div",{className:"vjs-progress-control vjs-control"})}});_V_.SeekBar=_V_.Slider.extend({options:{components:{loadProgressBar:{},bar:{componentClass:"PlayProgressBar"},handle:{componentClass:"SeekHandle"}}},playerEvent:"timeupdate",init:function(e,t){this._super(e,t)},createElement:function(){return this._super("div",{className:"vjs-progress-holder"})},getPercent:function(){return this.player.currentTime()/this.player.duration()},onMouseDown:function(e){this._super(e);this.player.scrubbing=true;this.videoWasPlaying=!this.player.paused();this.player.pause()},onMouseMove:function(e){var t=this.calculateDistance(e)*this.player.duration();if(t==this.player.duration()){t=t-.1}this.player.currentTime(t)},onMouseUp:function(e){this._super(e);this.player.scrubbing=false;if(this.videoWasPlaying){this.player.play()}},stepForward:function(){this.player.currentTime(this.player.currentTime()+1)},stepBack:function(){this.player.currentTime(this.player.currentTime()-1)}});_V_.LoadProgressBar=_V_.Component.extend({init:function(e,t){this._super(e,t);e.addEvent("progress",_V_.proxy(this,this.update))},createElement:function(){return this._super("div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text">Loaded: 0%</span>'})},update:function(){if(this.el.style){this.el.style.width=_V_.round(this.player.bufferedPercent()*100,2)+"%"}}});_V_.PlayProgressBar=_V_.Component.extend({createElement:function(){return this._super("div",{className:"vjs-play-progress",innerHTML:'<span class="vjs-control-text">Progress: 0%</span>'})}});_V_.SeekHandle=_V_.Component.extend({createElement:function(){return this._super("div",{className:"vjs-seek-handle",innerHTML:'<span class="vjs-control-text">00:00</span>'})}});_V_.VolumeControl=_V_.Component.extend({options:{components:{volumeBar:{}}},createElement:function(){return this._super("div",{className:"vjs-volume-control vjs-control"})}});_V_.VolumeBar=_V_.Slider.extend({options:{components:{bar:{componentClass:"VolumeLevel"},handle:{componentClass:"VolumeHandle"}}},playerEvent:"volumechange",createElement:function(){return this._super("div",{className:"vjs-volume-bar"})},onMouseMove:function(e){this.player.volume(this.calculateDistance(e))},getPercent:function(){return this.player.volume()},stepForward:function(){this.player.volume(this.player.volume()+.1)},stepBack:function(){this.player.volume(this.player.volume()-.1)}});_V_.VolumeLevel=_V_.Component.extend({createElement:function(){return this._super("div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})}});_V_.VolumeHandle=_V_.Component.extend({createElement:function(){return this._super("div",{className:"vjs-volume-handle",innerHTML:'<span class="vjs-control-text"></span>'})}});_V_.MuteToggle=_V_.Button.extend({init:function(e,t){this._super(e,t);e.addEvent("volumechange",_V_.proxy(this,this.update))},createElement:function(){return this._super("div",{className:"vjs-mute-control vjs-control",innerHTML:'<div><span class="vjs-control-text">Mute</span></div>'})},onClick:function(e){this.player.muted(this.player.muted()?false:true)},update:function(e){var t=this.player.volume(),n=3;if(t==0||this.player.muted()){n=0}else{if(t<.33){n=1}else{if(t<.67){n=2}}}_V_.each.call(this,[0,1,2,3],function(e){_V_.removeClass(this.el,"vjs-vol-"+e)});_V_.addClass(this.el,"vjs-vol-"+n)}});_V_.PosterImage=_V_.Button.extend({init:function(e,t){this._super(e,t);if(!this.player.options.poster){this.hide()}e.addEvent("play",_V_.proxy(this,this.hide))},createElement:function(){return _V_.createElement("img",{className:"vjs-poster",src:this.player.options.poster,tabIndex:-1})},onClick:function(){this.player.play()}});_V_.Menu=_V_.Component.extend({init:function(e,t){this._super(e,t)},addItem:function(e){this.addComponent(e);e.addEvent("click",this.proxy(function(){this.unlockShowing()}))},createElement:function(){return this._super("ul",{className:"vjs-menu"})}});_V_.MenuItem=_V_.Button.extend({init:function(e,t){this._super(e,t);if(t.selected){this.addClass("vjs-selected")}},createElement:function(e,t){return this._super("li",_V_.merge({className:"vjs-menu-item",innerHTML:this.options.label},t))},onClick:function(){this.selected(true)},selected:function(e){if(e){this.addClass("vjs-selected")}else{this.removeClass("vjs-selected")}}});if(!Array.prototype.indexOf){Array.prototype.indexOf=function(e){if(this===void 0||this===null){throw new TypeError}var t=Object(this);var n=t.length>>>0;if(n===0){return-1}var r=0;if(arguments.length>0){r=Number(arguments[1]);if(r!==r){r=0}else{if(r!==0&&r!==1/0&&r!==-(1/0)){r=(r>0||-1)*Math.floor(Math.abs(r))}}}if(r>=n){return-1}var i=r>=0?r:Math.max(n-Math.abs(r),0);for(;i<n;i++){if(i in t&&t[i]===e){return i}}return-1}}_V_.extend({addEvent:function(e,t,n){var r=_V_.getData(e),i;if(r&&!r.handler){r.handler=function(t){t=_V_.fixEvent(t);var n=_V_.getData(e).events[t.type];if(n){var r=[];_V_.each(n,function(e,t){r[t]=e});for(var i=0,s=r.length;i<s;i++){r[i].call(e,t)}}}}if(!r.events){r.events={}}i=r.events[t];if(!i){i=r.events[t]=[];if(document.addEventListener){e.addEventListener(t,r.handler,false)}else{if(document.attachEvent){e.attachEvent("on"+t,r.handler)}}}if(!n.guid){n.guid=_V_.guid++}i.push(n)},removeEvent:function(e,t,n){var r=_V_.getData(e),i;if(!r.events){return}if(!t){for(t in r.events){_V_.cleanUpEvents(e,t)}return}i=r.events[t];if(!i){return}if(n&&n.guid){for(var s=0;s<i.length;s++){if(i[s].guid===n.guid){i.splice(s--,1)}}}_V_.cleanUpEvents(e,t)},cleanUpEvents:function(e,t){var n=_V_.getData(e);if(n.events[t].length===0){delete n.events[t];if(document.removeEventListener){e.removeEventListener(t,n.handler,false)}else{if(document.detachEvent){e.detachEvent("on"+t,n.handler)}}}if(_V_.isEmpty(n.events)){delete n.events;delete n.handler}if(_V_.isEmpty(n)){_V_.removeData(e)}},fixEvent:function(e){if(e[_V_.expando]){return e}var t=e;e=new _V_.Event(t);for(var n=_V_.Event.props.length,r;n;){r=_V_.Event.props[--n];e[r]=t[r]}if(!e.target){e.target=e.srcElement||document}if(e.target.nodeType===3){e.target=e.target.parentNode}if(!e.relatedTarget&&e.fromElement){e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement}if(e.pageX==null&&e.clientX!=null){var i=e.target.ownerDocument||document,s=i.documentElement,o=i.body;e.pageX=e.clientX+(s&&s.scrollLeft||o&&o.scrollLeft||0)-(s&&s.clientLeft||o&&o.clientLeft||0);e.pageY=e.clientY+(s&&s.scrollTop||o&&o.scrollTop||0)-(s&&s.clientTop||o&&o.clientTop||0)}if(e.which==null&&(e.charCode!=null||e.keyCode!=null)){e.which=e.charCode!=null?e.charCode:e.keyCode}if(!e.metaKey&&e.ctrlKey){e.metaKey=e.ctrlKey}if(!e.which&&e.button!==undefined){e.which=e.button&1?1:e.button&2?3:e.button&4?2:0}return e},triggerEvent:function(e,t){var n=_V_.getData(e),r=e.parentNode||e.ownerDocument,i=t.type||t,s;if(n){s=n.handler}t=typeof t==="object"?t[_V_.expando]?t:new _V_.Event(i,t):new _V_.Event(i);t.type=i;if(s){s.call(e,t)}t.result=undefined;t.target=e},one:function(e,t,n){_V_.addEvent(e,t,function(){_V_.removeEvent(e,t,arguments.callee);n.apply(this,arguments)})}});_V_.Event=function(e,t){if(e&&e.type){this.originalEvent=e;this.type=e.type;this.isDefaultPrevented=e.defaultPrevented||e.returnValue===false||e.getPreventDefault&&e.getPreventDefault()?returnTrue:returnFalse}else{this.type=e}if(t){_V_.merge(this,t)}this.timeStamp=(new Date).getTime();this[_V_.expando]=true};_V_.Event.prototype={preventDefault:function(){this.isDefaultPrevented=returnTrue;var e=this.originalEvent;if(!e){return}if(e.preventDefault){e.preventDefault()}else{e.returnValue=false}},stopPropagation:function(){this.isPropagationStopped=returnTrue;var e=this.originalEvent;if(!e){return}if(e.stopPropagation){e.stopPropagation()}e.cancelBubble=true},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=returnTrue;this.stopPropagation()},isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse};_V_.Event.props="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode metaKey newValue offsetX offsetY pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");var JSON;if(!JSON){JSON={}}(function(){var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){function walk(e,t){var n,r,i=e[t];if(i&&typeof i==="object"){for(n in i){if(Object.prototype.hasOwnProperty.call(i,n)){r=walk(i,n);if(r!==undefined){i[n]=r}else{delete i[n]}}}}return reviver.call(e,t,i)}var j;text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}})();_V_.Player=_V_.Component.extend({init:function(e,t,n){this.tag=e;var r=this.el=_V_.createElement("div"),i=this.options={},s=i.width=e.getAttribute("width"),o=i.height=e.getAttribute("height"),u=s||300,a=o||150;e.player=r.player=this;this.ready(n);e.parentNode.insertBefore(r,e);r.appendChild(e);r.id=this.id=e.id;r.className=e.className;e.id+="_html5_api";e.className="vjs-tech";_V_.players[r.id]=this;r.setAttribute("width",u);r.setAttribute("height",a);r.style.width=u+"px";r.style.height=a+"px";e.removeAttribute("width");e.removeAttribute("height");_V_.merge(i,_V_.options);_V_.merge(i,this.getVideoTagSettings());_V_.merge(i,t);e.removeAttribute("controls");e.removeAttribute("poster");if(e.hasChildNodes()){for(var f=0,l=e.childNodes;f<l.length;f++){if(l[f].nodeName=="SOURCE"||l[f].nodeName=="TRACK"){e.removeChild(l[f])}}}this.values={};this.addClass("vjs-paused");this.addEvent("ended",this.onEnded);this.addEvent("play",this.onPlay);this.addEvent("pause",this.onPause);this.addEvent("progress",this.onProgress);this.addEvent("error",this.onError);if(i.controls){this.ready(function(){this.initComponents()})}this.textTracks=[];if(i.tracks&&i.tracks.length>0){this.addTextTracks(i.tracks)}if(!i.sources||i.sources.length==0){for(var f=0,l=i.techOrder;f<l.length;f++){var c=l[f],h=_V_[c];if(h.isSupported()){this.loadTech(c);break}}}else{this.src(i.sources)}},values:{},destroy:function(){this.stopTrackingProgress();this.stopTrackingCurrentTime();_V_.players[this.id]=null;delete _V_.players[this.id];this.tech.destroy();this.el.parentNode.removeChild(this.el)},createElement:function(e,t){},getVideoTagSettings:function(){var e={sources:[],tracks:[]};e.src=this.tag.getAttribute("src");e.controls=this.tag.getAttribute("controls")!==null;e.poster=this.tag.getAttribute("poster");e.preload=this.tag.getAttribute("preload");e.autoplay=this.tag.getAttribute("autoplay")!==null;e.loop=this.tag.getAttribute("loop")!==null;e.muted=this.tag.getAttribute("muted")!==null;if(this.tag.hasChildNodes()){for(var t,n=0,r=this.tag.childNodes;n<r.length;n++){t=r[n];if(t.nodeName=="SOURCE"){e.sources.push({src:t.getAttribute("src"),type:t.getAttribute("type"),media:t.getAttribute("media"),title:t.getAttribute("title")})}if(t.nodeName=="TRACK"){e.tracks.push({src:t.getAttribute("src"),kind:t.getAttribute("kind"),srclang:t.getAttribute("srclang"),label:t.getAttribute("label"),"default":t.getAttribute("default")!==null,title:t.getAttribute("title")})}}}return e},loadTech:function(e,t){if(this.tech){this.unloadTech()}else{if(e!="html5"&&this.tag){this.el.removeChild(this.tag);this.tag=false}}this.techName=e;this.isReady=false;var n=function(){this.player.triggerReady();if(!this.support.progressEvent){this.player.manualProgressOn()}if(!this.support.timeupdateEvent){this.player.manualTimeUpdatesOn()}};var r=_V_.merge({source:t,parentEl:this.el},this.options[e]);if(t){if(t.src==this.values.src&&this.values.currentTime>0){r.startTime=this.values.currentTime}this.values.src=t.src}this.tech=new _V_[e](this,r);this.tech.ready(n)},unloadTech:function(){this.tech.destroy();if(this.manualProgress){this.manualProgressOff()}if(this.manualTimeUpdates){this.manualTimeUpdatesOff()}this.tech=false},manualProgressOn:function(){this.manualProgress=true;this.trackProgress();this.tech.addEvent("progress",function(){this.removeEvent("progress",arguments.callee);this.support.progressEvent=true;this.player.manualProgressOff()})},manualProgressOff:function(){this.manualProgress=false;this.stopTrackingProgress()},trackProgress:function(){this.progressInterval=setInterval(_V_.proxy(this,function(){if(this.values.bufferEnd<this.buffered().end(0)){this.triggerEvent("progress")}else{if(this.bufferedPercent()==1){this.stopTrackingProgress();this.triggerEvent("progress")}}}),500)},stopTrackingProgress:function(){clearInterval(this.progressInterval)},manualTimeUpdatesOn:function(){this.manualTimeUpdates=true;this.addEvent("play",this.trackCurrentTime);this.addEvent("pause",this.stopTrackingCurrentTime);this.tech.addEvent("timeupdate",function(){this.removeEvent("timeupdate",arguments.callee);this.support.timeupdateEvent=true;this.player.manualTimeUpdatesOff()})},manualTimeUpdatesOff:function(){this.manualTimeUpdates=false;this.stopTrackingCurrentTime();this.removeEvent("play",this.trackCurrentTime);this.removeEvent("pause",this.stopTrackingCurrentTime)},trackCurrentTime:function(){if(this.currentTimeInterval){this.stopTrackingCurrentTime()}this.currentTimeInterval=setInterval(_V_.proxy(this,function(){this.triggerEvent("timeupdate")}),250)},stopTrackingCurrentTime:function(){clearInterval(this.currentTimeInterval)},onEnded:function(){if(this.options.loop){this.currentTime(0);this.play()}else{this.pause();this.currentTime(0);this.pause()}},onPlay:function(){_V_.removeClass(this.el,"vjs-paused");_V_.addClass(this.el,"vjs-playing")},onPause:function(){_V_.removeClass(this.el,"vjs-playing");_V_.addClass(this.el,"vjs-paused")},onProgress:function(){if(this.bufferedPercent()==1){this.triggerEvent("loadedalldata")}},onError:function(e){_V_.log("Video Error",e)},techCall:function(e,t){if(!this.tech.isReady){this.tech.ready(function(){this[e](t)})}else{try{this.tech[e](t)}catch(n){_V_.log(n)}}},techGet:function(e){if(this.tech.isReady){try{return this.tech[e]()}catch(t){if(this.tech[e]===undefined){_V_.log("Video.js: "+e+" method not defined for "+this.techName+" playback technology.",t)}else{if(t.name=="TypeError"){_V_.log("Video.js: "+e+" unavailable on "+this.techName+" playback technology element.",t);this.tech.isReady=false}else{_V_.log(t)}}}}return},play:function(){this.techCall("play");return this},pause:function(){this.techCall("pause");return this},paused:function(){return this.techGet("paused")===false?false:true},currentTime:function(e){if(e!==undefined){this.values.lastSetCurrentTime=e;this.techCall("setCurrentTime",e);if(this.manualTimeUpdates){this.triggerEvent("timeupdate")}return this}return this.values.currentTime=this.techGet("currentTime")||0},duration:function(){return parseFloat(this.techGet("duration"))},remainingTime:function(){return this.duration()-this.currentTime()},buffered:function(){var e=this.techGet("buffered"),t=0,n=this.values.bufferEnd=this.values.bufferEnd||0,r;if(e&&e.length>0&&e.end(0)!==n){n=e.end(0);this.values.bufferEnd=n}return _V_.createTimeRange(t,n)},bufferedPercent:function(){return this.duration()?this.buffered().end(0)/this.duration():0},volume:function(e){var t;if(e!==undefined){t=Math.max(0,Math.min(1,parseFloat(e)));this.values.volume=t;this.techCall("setVolume",t);_V_.setLocalStorage("volume",t);return this}t=parseFloat(this.techGet("volume"));return isNaN(t)?1:t},muted:function(e){if(e!==undefined){this.techCall("setMuted",e);return this}return this.techGet("muted")||false},width:function(e,t){if(e!==undefined){this.el.width=e;this.el.style.width=e+"px";if(!t){this.triggerEvent("resize")}return this}return parseInt(this.el.getAttribute("width"))},height:function(e){if(e!==undefined){this.el.height=e;this.el.style.height=e+"px";this.triggerEvent("resize");return this}return parseInt(this.el.getAttribute("height"))},size:function(e,t){return this.width(e,true).height(t)},supportsFullScreen:function(){return this.techGet("supportsFullScreen")||false},requestFullScreen:function(){var e=_V_.support.requestFullScreen;this.isFullScreen=true;if(e){_V_.addEvent(document,e.eventName,this.proxy(function(){this.isFullScreen=document[e.isFullScreen];if(this.isFullScreen==false){_V_.removeEvent(document,e.eventName,arguments.callee)}this.triggerEvent("fullscreenchange")}));if(this.tech.support.fullscreenResize===false&&this.options.flash.iFrameMode!=true){this.pause();this.unloadTech();_V_.addEvent(document,e.eventName,this.proxy(function(){_V_.removeEvent(document,e.eventName,arguments.callee);this.loadTech(this.techName,{src:this.values.src})}));this.el[e.requestFn]()}else{this.el[e.requestFn]()}}else{if(this.tech.supportsFullScreen()){this.triggerEvent("fullscreenchange");this.techCall("enterFullScreen")}else{this.triggerEvent("fullscreenchange");this.enterFullWindow()}}return this},cancelFullScreen:function(){var e=_V_.support.requestFullScreen;this.isFullScreen=false;if(e){if(this.tech.support.fullscreenResize===false&&this.options.flash.iFrameMode!=true){this.pause();this.unloadTech();_V_.addEvent(document,e.eventName,this.proxy(function(){_V_.removeEvent(document,e.eventName,arguments.callee);this.loadTech(this.techName,{src:this.values.src})}));document[e.cancelFn]()}else{document[e.cancelFn]()}}else{if(this.tech.supportsFullScreen()){this.techCall("exitFullScreen");this.triggerEvent("fullscreenchange")}else{this.exitFullWindow();this.triggerEvent("fullscreenchange")}}return this},enterFullWindow:function(){this.isFullWindow=true;this.docOrigOverflow=document.documentElement.style.overflow;_V_.addEvent(document,"keydown",_V_.proxy(this,this.fullWindowOnEscKey));document.documentElement.style.overflow="hidden";_V_.addClass(document.body,"vjs-full-window");_V_.addClass(this.el,"vjs-fullscreen");this.triggerEvent("enterFullWindow")},fullWindowOnEscKey:function(e){if(e.keyCode==27){if(this.isFullScreen==true){this.cancelFullScreen()}else{this.exitFullWindow()}}},exitFullWindow:function(){this.isFullWindow=false;_V_.removeEvent(document,"keydown",this.fullWindowOnEscKey);document.documentElement.style.overflow=this.docOrigOverflow;_V_.removeClass(document.body,"vjs-full-window");_V_.removeClass(this.el,"vjs-fullscreen");this.triggerEvent("exitFullWindow")},selectSource:function(e){for(var t=0,n=this.options.techOrder;t<n.length;t++){var r=n[t],i=_V_[r];if(i.isSupported()){for(var s=0,o=e;s<o.length;s++){var u=o[s];if(i.canPlaySource.call(this,u)){return{source:u,tech:r}}}}}return false},src:function(e){if(e instanceof Array){var t=this.selectSource(e),e,n;if(t){e=t.source;n=t.tech;if(n==this.techName){this.src(e)}else{this.loadTech(n,e)}}else{_V_.log("No compatible source and playback technology were found.")}}else{if(e instanceof Object){if(_V_[this.techName].canPlaySource(e)){this.src(e.src)}else{this.src([e])}}else{this.values.src=e;if(!this.isReady){this.ready(function(){this.src(e)})}else{this.techCall("src",e);if(this.options.preload=="auto"){this.load()}if(this.options.autoplay){this.play()}}}}return this},load:function(){this.techCall("load");return this},currentSrc:function(){return this.techGet("currentSrc")||this.values.src||""},preload:function(e){if(e!==undefined){this.techCall("setPreload",e);this.options.preload=e;return this}return this.techGet("preload")},autoplay:function(e){if(e!==undefined){this.techCall("setAutoplay",e);this.options.autoplay=e;return this}return this.techGet("autoplay",e)},loop:function(e){if(e!==undefined){this.techCall("setLoop",e);this.options.loop=e;return this}return this.techGet("loop")},controls:function(){return this.options.controls},poster:function(){return this.techGet("poster")},error:function(){return this.techGet("error")},ended:function(){return this.techGet("ended")}});(function(){var e,t,n,r,i=_V_.Player.prototype;if(document.cancelFullscreen!==undefined){e="requestFullscreen";t="exitFullscreen";n="fullscreenchange";r="fullScreen"}else{_V_.each(["moz","webkit"],function(i){if((i!="moz"||document.mozFullScreenEnabled)&&document[i+"CancelFullScreen"]!==undefined){e=i+"RequestFullScreen";t=i+"CancelFullScreen";n=i+"fullscreenchange";if(i=="webkit"){r=i+"IsFullScreen"}else{r=i+"FullScreen"}}})}if(e){_V_.support.requestFullScreen={requestFn:e,cancelFn:t,eventName:n,isFullScreen:r}}})();_V_.PlaybackTech=_V_.Component.extend({init:function(e,t){},onClick:function(){if(this.player.options.controls){_V_.PlayToggle.prototype.onClick.call(this)}}});_V_.apiMethods="play,pause,paused,currentTime,setCurrentTime,duration,buffered,volume,setVolume,muted,setMuted,width,height,supportsFullScreen,enterFullScreen,src,load,currentSrc,preload,setPreload,autoplay,setAutoplay,loop,setLoop,error,networkState,readyState,seeking,initialTime,startOffsetTime,played,seekable,ended,videoTracks,audioTracks,videoWidth,videoHeight,textTracks,defaultPlaybackRate,playbackRate,mediaGroup,controller,controls,defaultMuted".split(",");_V_.each(_V_.apiMethods,function(e){_V_.PlaybackTech.prototype[e]=function(){throw new Error("The '"+e+"' method is not available on the playback technology's API")}});_V_.html5=_V_.PlaybackTech.extend({init:function(e,t,n){this.player=e;this.el=this.createElement();this.ready(n);this.addEvent("click",this.proxy(this.onClick));var r=t.source;if(r&&this.el.currentSrc==r.src){e.triggerEvent("loadstart")}else{if(r){this.el.src=r.src}}e.ready(function(){if(this.options.autoplay&&this.paused()){this.tag.poster=null;this.play()}});this.setupTriggers();this.triggerReady()},destroy:function(){this.player.tag=false;this.removeTriggers();this.el.parentNode.removeChild(this.el)},createElement:function(){var e=_V_.html5,t=this.player,n=t.tag,r;if(!n||this.support.movingElementInDOM===false){if(n){t.el.removeChild(n)}r=_V_.createElement("video",{id:n.id||t.el.id+"_html5_api",className:n.className||"vjs-tech"});n=r;_V_.insertFirst(n,t.el)}_V_.each(["autoplay","preload","loop","muted"],function(e){if(t.options[e]!==null){n[e]=t.options[e]}},this);return n},setupTriggers:function(){_V_.each.call(this,_V_.html5.events,function(e){_V_.addEvent(this.el,e,_V_.proxy(this.player,this.eventHandler))})},removeTriggers:function(){_V_.each.call(this,_V_.html5.events,function(e){_V_.removeEvent(this.el,e,_V_.proxy(this.player,this.eventHandler))})},eventHandler:function(e){e.stopPropagation();this.triggerEvent(e)},play:function(){this.el.play()},pause:function(){this.el.pause()},paused:function(){return this.el.paused},currentTime:function(){return this.el.currentTime},setCurrentTime:function(e){try{this.el.currentTime=e}catch(t){_V_.log(t,"Video isn't ready. (VideoJS)")}},duration:function(){return this.el.duration||0},buffered:function(){return this.el.buffered},volume:function(){return this.el.volume},setVolume:function(e){this.el.volume=e},muted:function(){return this.el.muted},setMuted:function(e){this.el.muted=e},width:function(){return this.el.offsetWidth},height:function(){return this.el.offsetHeight},supportsFullScreen:function(){if(typeof this.el.webkitEnterFullScreen=="function"){if(!navigator.userAgent.match("Chrome")&&!navigator.userAgent.match("Mac OS X 10.5")){return true}}return false},enterFullScreen:function(){try{this.el.webkitEnterFullScreen()}catch(e){if(e.code==11){_V_.log("VideoJS: Video not ready.")}}},src:function(e){this.el.src=e},load:function(){this.el.load()},currentSrc:function(){return this.el.currentSrc},preload:function(){return this.el.preload},setPreload:function(e){this.el.preload=e},autoplay:function(){return this.el.autoplay},setAutoplay:function(e){this.el.autoplay=e},loop:function(){return this.el.loop},setLoop:function(e){this.el.loop=e},error:function(){return this.el.error},seeking:function(){return this.el.seeking},ended:function(){return this.el.ended},controls:function(){return this.player.options.controls},defaultMuted:function(){return this.el.defaultMuted}});_V_.html5.isSupported=function(){return!!document.createElement("video").canPlayType};_V_.html5.canPlaySource=function(e){return!!document.createElement("video").canPlayType(e.type)};_V_.html5.events="loadstart,suspend,abort,error,emptied,stalled,loadedmetadata,loadeddata,canplay,canplaythrough,playing,waiting,seeking,seeked,ended,durationchange,timeupdate,progress,play,pause,ratechange,volumechange".split(",");_V_.html5.prototype.support={fullscreen:typeof _V_.testVid.webkitEnterFullScreen!==undefined?!_V_.ua.match("Chrome")&&!_V_.ua.match("Mac OS X 10.5")?true:false:false,movingElementInDOM:!_V_.isIOS()};if(_V_.isAndroid()){if(_V_.androidVersion()<3){document.createElement("video").constructor.prototype.canPlayType=function(e){return e&&e.toLowerCase().indexOf("video/mp4")!=-1?"maybe":""}}}_V_.flash=_V_.PlaybackTech.extend({init:function(e,t){this.player=e;var n=t.source,r=t.parentEl,i=this.el=_V_.createElement("div",{id:r.id+"_temp_flash"}),s=e.el.id+"_flash_api",o=e.options,u=_V_.merge({readyFunction:"_V_.flash.onReady",eventProxyFunction:"_V_.flash.onEvent",errorEventProxyFunction:"_V_.flash.onError",autoplay:o.autoplay,preload:o.preload,loop:o.loop,muted:o.muted},t.flashVars),a=_V_.merge({wmode:"opaque",bgcolor:"#000000"},t.params),f=_V_.merge({id:s,name:s,"class":"vjs-tech"},t.attributes);if(n){u.src=encodeURIComponent(_V_.getAbsoluteURL(n.src))}_V_.insertFirst(i,r);if(t.startTime){this.ready(function(){this.load();this.play();this.currentTime(t.startTime)})}if(t.iFrameMode==true&&!_V_.isFF){var l=_V_.createElement("iframe",{id:s+"_iframe",name:s+"_iframe",className:"vjs-tech",scrolling:"no",marginWidth:0,marginHeight:0,frameBorder:0});u.readyFunction="ready";u.eventProxyFunction="events";u.errorEventProxyFunction="errors";_V_.addEvent(l,"load",_V_.proxy(this,function(){var e,n,r,i=l.contentWindow,s="";e=l.contentDocument?l.contentDocument:l.contentWindow.document;e.write(_V_.flash.getEmbedCode(t.swf,u,a,f));i.player=this.player;i.ready=_V_.proxy(this.player,function(t){var n=e.getElementById(t),r=this,i=r.tech;i.el=n;_V_.addEvent(n,"click",i.proxy(i.onClick));_V_.flash.checkReady(i)});i.events=_V_.proxy(this.player,function(e,t,n){var r=this;if(r&&r.techName=="flash"){r.triggerEvent(t)}});i.errors=_V_.proxy(this.player,function(e,t){_V_.log("Flash Error",t)})}));i.parentNode.replaceChild(l,i)}else{_V_.flash.embed(t.swf,i,u,a,f)}},destroy:function(){this.el.parentNode.removeChild(this.el)},play:function(){this.el.vjs_play()},pause:function(){this.el.vjs_pause()},src:function(e){e=_V_.getAbsoluteURL(e);this.el.vjs_src(e);if(this.player.autoplay()){var t=this;setTimeout(function(){t.play()},0)}},load:function(){this.el.vjs_load()},poster:function(){this.el.vjs_getProperty("poster")},buffered:function(){return _V_.createTimeRange(0,this.el.vjs_getProperty("buffered"))},supportsFullScreen:function(){return false},enterFullScreen:function(){return false}});(function(){var e=_V_.flash.prototype,t="preload,currentTime,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted".split(","),n="error,currentSrc,networkState,readyState,seeking,initialTime,duration,startOffsetTime,paused,played,seekable,ended,videoTracks,audioTracks,videoWidth,videoHeight,textTracks".split(","),r="load,play,pause".split(",");createSetter=function(t){var n=t.charAt(0).toUpperCase()+t.slice(1);e["set"+n]=function(e){return this.el.vjs_setProperty(t,e)}},createGetter=function(t){e[t]=function(){return this.el.vjs_getProperty(t)}};_V_.each(t,function(e){createGetter(e);createSetter(e)});_V_.each(n,function(e){createGetter(e)})})();_V_.flash.isSupported=function(){return _V_.flash.version()[0]>=10};_V_.flash.canPlaySource=function(e){if(e.type in _V_.flash.prototype.support.formats){return"maybe"}};_V_.flash.prototype.support={formats:{"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},progressEvent:false,timeupdateEvent:false,fullscreenResize:false,parentResize:!_V_.ua.match("Firefox")};_V_.flash.onReady=function(e){var t=_V_.el(e);var n=t.player||t.parentNode.player,r=n.tech;t.player=n;r.el=t;r.addEvent("click",r.onClick);_V_.flash.checkReady(r)};_V_.flash.checkReady=function(e){if(e.el.vjs_getProperty){e.triggerReady()}else{setTimeout(function(){_V_.flash.checkReady(e)},50)}};_V_.flash.onEvent=function(e,t){var n=_V_.el(e).player;n.triggerEvent(t)};_V_.flash.onError=function(e,t){var n=_V_.el(e).player;n.triggerEvent("error");_V_.log("Flash Error",t,e)};_V_.flash.version=function(){var e="0,0,0";try{e=(new ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(t){try{if(navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin){e=(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}}catch(t){}}return e.split(",")};_V_.flash.embed=function(e,t,n,r,i){var s=_V_.flash.getEmbedCode(e,n,r,i),o=_V_.createElement("div",{innerHTML:s}).childNodes[0],u=t.parentNode;t.parentNode.replaceChild(o,t);if(_V_.isIE()){var a=u.childNodes[0];setTimeout(function(){a.style.display="block"},1e3)}return o};_V_.flash.getEmbedCode=function(e,t,n,r){var i='<object type="application/x-shockwave-flash"',s="",o="";attrsString="";if(t){_V_.eachProp(t,function(e,t){s+=e+"="+t+"&"})}n=_V_.merge({movie:e,flashvars:s,allowScriptAccess:"always",allowNetworking:"all"},n);_V_.eachProp(n,function(e,t){o+='<param name="'+e+'" value="'+t+'" />'});r=_V_.merge({data:e,width:"100%",height:"100%"},r);_V_.eachProp(r,function(e,t){attrsString+=e+'="'+t+'" '});return i+attrsString+">"+o+"</object>"};_V_.merge(_V_.Player.prototype,{addTextTracks:function(e){var t=this.textTracks=this.textTracks?this.textTracks:[],n=0,r=e.length,i,s;for(;n<r;n++){s=_V_.uc(e[n].kind||"subtitles");i=new _V_[s+"Track"](this,e[n]);t.push(i);if(i["default"]){this.ready(_V_.proxy(i,i.show))}}return this},showTextTrack:function(e,t){var n=this.textTracks,r=0,i=n.length,s,o,u;for(;r<i;r++){s=n[r];if(s.id===e){s.show();o=s}else{if(t&&s.kind==t&&s.mode>0){s.disable()}}}u=o?o.kind:t?t:false;if(u){this.triggerEvent(u+"trackchange")}return this}});_V_.Track=_V_.Component.extend({init:function(e,t){this._super(e,t);_V_.merge(this,{id:t.id||"vjs_"+t.kind+"_"+t.language+"_"+_V_.guid++,src:t.src,"default":t["default"],title:t.title,language:t.srclang,label:t.label,cues:[],activeCues:[],readyState:0,mode:0})},createElement:function(){return this._super("div",{className:"vjs-"+this.kind+" vjs-text-track"})},show:function(){this.activate();this.mode=2;this._super()},hide:function(){this.activate();this.mode=1;this._super()},disable:function(){if(this.mode==2){this.hide()}this.deactivate();this.mode=0},activate:function(){if(this.readyState==0){this.load()}if(this.mode==0){this.player.addEvent("timeupdate",this.proxy(this.update,this.id));this.player.addEvent("ended",this.proxy(this.reset,this.id));if(this.kind=="captions"||this.kind=="subtitles"){this.player.textTrackDisplay.addComponent(this)}}},deactivate:function(){this.player.removeEvent("timeupdate",this.proxy(this.update,this.id));this.player.removeEvent("ended",this.proxy(this.reset,this.id));this.reset();this.player.textTrackDisplay.removeComponent(this)},load:function(){if(this.readyState==0){this.readyState=1;_V_.get(this.src,this.proxy(this.parseCues),this.proxy(this.onError))}},onError:function(e){this.error=e;this.readyState=3;this.triggerEvent("error")},parseCues:function(e){var t,n,r,i=e.split("\n"),s="",o;for(var u=1,a=i.length;u<a;u++){s=_V_.trim(i[u]);if(s){if(s.indexOf("-->")==-1){o=s;s=_V_.trim(i[++u])}else{o=this.cues.length}t={id:o,index:this.cues.length};n=s.split(" --> ");t.startTime=this.parseCueTime(n[0]);t.endTime=this.parseCueTime(n[1]);r=[];while(i[++u]&&(s=_V_.trim(i[u]))){r.push(s)}t.text=r.join("<br/>");this.cues.push(t)}}this.readyState=2;this.triggerEvent("loaded")},parseCueTime:function(e){var t=e.split(":"),n=0,r,i,s,o,u,a;if(t.length==3){r=t[0];i=t[1];s=t[2]}else{r=0;i=t[0];s=t[1]}s=s.split(/\s+/);o=s.splice(0,1)[0];o=o.split(/\.|,/);u=parseFloat(o[1]);o=o[0];n+=parseFloat(r)*3600;n+=parseFloat(i)*60;n+=parseFloat(o);if(u){n+=u/1e3}return n},update:function(){if(this.cues.length>0){var e=this.player.currentTime();if(this.prevChange===undefined||e<this.prevChange||this.nextChange<=e){var t=this.cues,n=this.player.duration(),r=0,i=false,s=[],o,u,a="",f,l,c;if(e>=this.nextChange||this.nextChange===undefined){l=this.firstActiveIndex!==undefined?this.firstActiveIndex:0}else{i=true;l=this.lastActiveIndex!==undefined?this.lastActiveIndex:t.length-1}while(true){f=t[l];if(f.endTime<=e){r=Math.max(r,f.endTime);if(f.active){f.active=false}}else{if(e<f.startTime){n=Math.min(n,f.startTime);if(f.active){f.active=false}if(!i){break}}else{if(i){s.splice(0,0,f);if(u===undefined){u=l}o=l}else{s.push(f);if(o===undefined){o=l}u=l}n=Math.min(n,f.endTime);r=Math.max(r,f.startTime);f.active=true}}if(i){if(l===0){break}else{l--}}else{if(l===t.length-1){break}else{l++}}}this.activeCues=s;this.nextChange=n;this.prevChange=r;this.firstActiveIndex=o;this.lastActiveIndex=u;this.updateDisplay();this.triggerEvent("cuechange")}}},updateDisplay:function(){var e=this.activeCues,t="",n=0,r=e.length;for(;n<r;n++){t+="<span class='vjs-tt-cue'>"+e[n].text+"</span>"}this.el.innerHTML=t},reset:function(){this.nextChange=0;this.prevChange=this.player.duration();this.firstActiveIndex=0;this.lastActiveIndex=0}});_V_.CaptionsTrack=_V_.Track.extend({kind:"captions"});_V_.SubtitlesTrack=_V_.Track.extend({kind:"subtitles"});_V_.ChaptersTrack=_V_.Track.extend({kind:"chapters"});_V_.TextTrackDisplay=_V_.Component.extend({createElement:function(){return this._super("div",{className:"vjs-text-track-display"})}});_V_.TextTrackMenuItem=_V_.MenuItem.extend({init:function(e,t){var n=this.track=t.track;t.label=n.label;t.selected=n["default"];this._super(e,t);this.player.addEvent(n.kind+"trackchange",_V_.proxy(this,this.update))},onClick:function(){this._super();this.player.showTextTrack(this.track.id,this.track.kind)},update:function(){if(this.track.mode==2){this.selected(true)}else{this.selected(false)}}});_V_.OffTextTrackMenuItem=_V_.TextTrackMenuItem.extend({init:function(e,t){t.track={kind:t.kind,player:e,label:"Off"};this._super(e,t)},onClick:function(){this._super();this.player.showTextTrack(this.track.id,this.track.kind)},update:function(){var e=this.player.textTracks,t=0,n=e.length,r,i=true;for(;t<n;t++){r=e[t];if(r.kind==this.track.kind&&r.mode==2){i=false}}if(i){this.selected(true)}else{this.selected(false)}}});_V_.TextTrackButton=_V_.Button.extend({init:function(e,t){this._super(e,t);this.menu=this.createMenu();if(this.items.length===0){this.hide()}},createMenu:function(){var e=new _V_.Menu(this.player);e.el.appendChild(_V_.createElement("li",{className:"vjs-menu-title",innerHTML:_V_.uc(this.kind)}));e.addItem(new _V_.OffTextTrackMenuItem(this.player,{kind:this.kind}));this.items=this.createItems();this.each(this.items,function(t){e.addItem(t)});this.addComponent(e);return e},createItems:function(){var e=[];this.each(this.player.textTracks,function(t){if(t.kind===this.kind){e.push(new _V_.TextTrackMenuItem(this.player,{track:t}))}});return e},buildCSSClass:function(){return this.className+" vjs-menu-button "+this._super()},onFocus:function(){this.menu.lockShowing();_V_.one(this.menu.el.childNodes[this.menu.el.childNodes.length-1],"blur",this.proxy(function(){this.menu.unlockShowing()}))},onBlur:function(){},onClick:function(){this.one("mouseout",this.proxy(function(){this.menu.unlockShowing();this.el.blur()}))}});_V_.CaptionsButton=_V_.TextTrackButton.extend({kind:"captions",buttonText:"Captions",className:"vjs-captions-button"});_V_.SubtitlesButton=_V_.TextTrackButton.extend({kind:"subtitles",buttonText:"Subtitles",className:"vjs-subtitles-button"});_V_.ChaptersButton=_V_.TextTrackButton.extend({kind:"chapters",buttonText:"Chapters",className:"vjs-chapters-button",createItems:function(e){var t=[];this.each(this.player.textTracks,function(e){if(e.kind===this.kind){t.push(new _V_.TextTrackMenuItem(this.player,{track:e}))}});return t},createMenu:function(){var e=this.player.textTracks,t=0,n=e.length,r,i,s=this.items=[];for(;t<n;t++){r=e[t];if(r.kind==this.kind&&r["default"]){if(r.readyState<2){this.chaptersTrack=r;r.addEvent("loaded",this.proxy(this.createMenu));return}else{i=r;break}}}var o=this.menu=new _V_.Menu(this.player);o.el.appendChild(_V_.createElement("li",{className:"vjs-menu-title",innerHTML:_V_.uc(this.kind)}));if(i){var u=i.cues,t=0,n=u.length,a,f;for(;t<n;t++){a=u[t];f=new _V_.ChaptersTrackMenuItem(this.player,{track:i,cue:a});s.push(f);o.addComponent(f)}}this.addComponent(o);if(this.items.length>0){this.show()}return o}});_V_.ChaptersTrackMenuItem=_V_.MenuItem.extend({init:function(e,t){var n=this.track=t.track,r=this.cue=t.cue,i=e.currentTime();t.label=r.text;t.selected=r.startTime<=i&&i<r.endTime;this._super(e,t);n.addEvent("cuechange",_V_.proxy(this,this.update))},onClick:function(){this._super();this.player.currentTime(this.cue.startTime);this.update(this.cue.startTime)},update:function(e){var t=this.cue,n=this.player.currentTime();if(t.startTime<=n&&n<t.endTime){this.selected(true)}else{this.selected(false)}}});_V_.merge(_V_.ControlBar.prototype.options.components,{subtitlesButton:{},captionsButton:{},chaptersButton:{}});_V_.autoSetup=function(){var e,t,n,r=document.getElementsByTagName("video");if(r&&r.length>0){for(var i=0,s=r.length;i<s;i++){t=r[i];if(t&&t.getAttribute){if(t.player===undefined){e=t.getAttribute("data-setup");if(e!==null){e=JSON.parse(e||"{}");n=_V_(t,e)}}}else{_V_.autoSetupTimeout(1);break}}}else{if(!_V_.windowLoaded){_V_.autoSetupTimeout(1)}}};_V_.autoSetupTimeout=function(e){setTimeout(_V_.autoSetup,e)};_V_.addEvent(window,"load",function(){_V_.windowLoaded=true});_V_.autoSetup();window.VideoJS=window._V_=VideoJS})(window)

/*****bigvideo.js****/
/*
	BigVideo - The jQuery Plugin for Big Background Video (and Images)
	by John Polacek (@johnpolacek)
	
	Dual licensed under MIT and GPL.

    Dependencies: jQuery, jQuery UI (Slider), Video.js, ImagesLoaded
*/

;(function($) {

    $.BigVideo = function(options) {

        var defaults = {
			// If you want to use a single mp4 source, set this to true
			useFlashForFirefox:true,
			// If you are doing a playlist, the video won't play the first time
			// on a touchscreen unless the play event is attached to a user click
			forceAutoplay:false,
			controls:true
        };

        var BigVideo = this,
			player,
			vidEl = '#big-video-vid',
			wrap = $('<div id="big-video-wrap"></div>'),
			video = $(''),
			mediaAspect = 16/9,
			vidDur = 0,
			defaultVolume = 0.8,
			isInitialized = false,
			isSeeking = false,
			isPlaying = false,
			isQueued = false,
			isAmbient = false,
			doLoop = false,
			playlist = [],
			currMediaIndex,
			currMediaType;

        BigVideo.settings = $.extend({}, defaults, options);

        // If only using mp4s and browser is firefox, use flash fallback
        if (BigVideo.settings.useFlashForFirefox && (navigator.userAgent.toLowerCase().indexOf('firefox') != -1)) {
			VideoJS.options.techOrder = ['flash'];
		}

		function updateSize() {
			var windowW = $(window).width();
			var windowH = $(window).height();
			var windowAspect = windowW/windowH;
			if (windowAspect < mediaAspect) {
				// taller
				if (currMediaType === 'video') {
					player
						.width(windowH*mediaAspect)
						.height(windowH);
					$(vidEl)
						.css('top',0)
						.css('left',-(windowH*mediaAspect-windowW)/2);
					$(vidEl+'_html5_api').css('width',windowH*mediaAspect);
					$(vidEl+'_flash_api').css('width',windowH*mediaAspect);
				} else {
					// is image
					$('#big-video-image')
						.width(windowH*mediaAspect)
						.height(windowH)
						.css('top',0)
						.css('left',-(windowH*mediaAspect-windowW)/2);
				}
			} else {
				// wider
				if (currMediaType === 'video') {
					player
						.width(windowW)
						.height(windowW/mediaAspect);
					$(vidEl)
						.css('top',-(windowW/mediaAspect-windowH)/2)
						.css('left',0);
					$(vidEl+'_html5_api').css('width','100%');
					$(vidEl+'_flash_api').css('width','100%');
				} else {
					// is image
					$('#big-video-image')
						.width(windowW)
						.height(windowW/mediaAspect)
						.css('top',-(windowW/mediaAspect-windowH)/2)
						.css('left',0);
				}
			}
		}

		function initPlayControl() {
			// create video controller
			var markup = '<div id="big-video-control-container">';
			markup += '<div id="big-video-control">';
			markup += '<a href="#" id="big-video-control-play"></a>';
			markup += '<div id="big-video-control-middle">';
			markup += '<div id="big-video-control-bar">';
			markup += '<div id="big-video-control-bound-left"></div>';
			markup += '<div id="big-video-control-progress"></div>';
			markup += '<div id="big-video-control-track"></div>';
			markup += '<div id="big-video-control-bound-right"></div>';
			markup += '</div>';
			markup += '</div>';
			markup += '<div id="big-video-control-timer"></div>';
			markup += '</div>';
			markup += '</div>';
			$('body').append(markup);

			// hide until playVideo
			$('#big-video-control-container').css('display','none');

			// add events
			$('#big-video-control-track').slider({
				animate: true,
				step: 0.01,
				slide: function(e,ui) {
					isSeeking = true;
					$('#big-video-control-progress').css('width',(ui.value-0.16)+'%');
					player.currentTime((ui.value/100)*player.duration());
				},
				stop:function(e,ui) {
					isSeeking = false;
					player.currentTime((ui.value/100)*player.duration());
				}
			});
			$('#big-video-control-bar').click(function(e) {
				player.currentTime((e.offsetX/$(this).width())*player.duration());
			});
			$('#big-video-control-play').click(function(e) {
				e.preventDefault();
				playControl('toggle');
			});
			player.addEvent('timeupdate', function() {
				if (!isSeeking && (player.currentTime()/player.duration())) {
					var currTime = player.currentTime();
					var minutes = Math.floor(currTime/60);
					var seconds = Math.floor(currTime) - (60*minutes);
					if (seconds < 10) seconds='0'+seconds;
					var progress = player.currentTime()/player.duration()*100;
					$('#big-video-control-track').slider('value',progress);
					$('#big-video-control-progress').css('width',(progress-0.16)+'%');
					$('#big-video-control-timer').text(minutes+':'+seconds+'/'+vidDur);
				}
			});
		}

		function playControl(a) {
			var action = a || 'toggle';
			if (action === 'toggle') action = isPlaying ? 'pause' : 'play';
			if (action === 'pause') {
				player.pause();
				$('#big-video-control-play').css('background-position','-16px');
				isPlaying = false;

			} else if (action === 'play') {
				player.play();
				$('#big-video-control-play').css('background-position','0');
				isPlaying = true;
			}
		}

		function setUpAutoPlay() {
			player.play();
			$('body').off('click',setUpAutoPlay);
        }

		function nextMedia() {
			currMediaIndex++;
			if (currMediaIndex === playlist.length) currMediaIndex=0;
			playVideo(playlist[currMediaIndex]);
        }

        function playVideo(source) {
			// clear image
			$(vidEl).css('display','block');
			currMediaType = 'video';
			player.src(source);
			isPlaying = true;
			if (isAmbient) {
				$('#big-video-control-container').css('display','none');
				player.volume(0);
				doLoop = true;
			} else {
				$('#big-video-control-container').css('display','block');
				player.volume(defaultVolume);
				doLoop = false;
			}
        }

        function showPoster(source) {
			// remove old image
			$('#big-video-image').remove();

			// hide video
			player.pause();
			$(vidEl).css('display','none');
			$('#big-video-control-container').css('display','none');

			// show image
			currMediaType = 'image';
			var bgImage = $('<img id="big-video-image" src='+source+' />');
			wrap.append(bgImage);

			$('#big-video-image').imagesLoaded(function() {
				mediaAspect = $('#big-video-image').width() / $('#big-video-image').height();
				updateSize();
			});
        }

		BigVideo.init = function() {
			if (!isInitialized) {
				// create player
				$('body').prepend(wrap);
				var autoPlayString = BigVideo.settings.forceAutoplay ? 'autoplay' : '';
				player = $('<video id="'+vidEl.substr(1)+'" class="video-js vjs-default-skin" preload="auto" data-setup="{}" '+autoPlayString+' webkit-playsinline></video>');
				player.css('position','absolute');
				wrap.append(player);
				player = _V_(vidEl.substr(1), { 'controls': false, 'autoplay': true, 'preload': 'auto' });
				
				// add controls
				if (BigVideo.settings.controls) initPlayControl();
				
				// set initial state
				updateSize();
				isInitialized = true;
				isPlaying = false;

				if (BigVideo.settings.forceAutoplay) {
					$('body').on('click', setUpAutoPlay);
				}
				
				// set events
				$(window).resize(function() {
					updateSize();
				});

				player.addEvent('loadedmetadata', function(data) {
					if (document.getElementById('big-video-vid_flash_api')) {
						// use flash callback to get mediaAspect ratio
						mediaAspect = document.getElementById('big-video-vid_flash_api').vjs_getProperty('videoWidth')/document.getElementById('big-video-vid_flash_api').vjs_getProperty('videoHeight');
					} else {
						// use html5 player to get mediaAspect
						mediaAspect = $('#big-video-vid_html5_api').prop('videoWidth')/$('#big-video-vid_html5_api').prop('videoHeight');
					}
					updateSize();
					var dur = Math.round(player.duration());
					var durMinutes = Math.floor(dur/60);
					var durSeconds = dur - durMinutes*60;
					if (durSeconds < 10) durSeconds='0'+durSeconds;
					vidDur = durMinutes+':'+durSeconds;
				});
				
				player.addEvent('ended', function() {
					if (doLoop) {
						player.currentTime(0);
						player.play();
					}
					if (isQueued) {
						nextMedia();
					}
				});
			}
        };

        BigVideo.show = function(source,options) {
			isAmbient = (options !== undefined && options.ambient === true);
			if (typeof(source) === 'string') {
				var ext = source.substring(source.lastIndexOf('.')+1);
				if (ext === 'jpg' || ext === 'gif' || ext === 'png') {
					showPoster(source);
				} else {
					playVideo(source);
					isQueued = false;
				}
			} else {
				playlist = source;
				currMediaIndex = 0;
				playVideo(playlist[currMediaIndex]);
				isQueued = true;
			}
        };

        // Expose Video.js player
        BigVideo.getPlayer = function() {
			return player;
        };
    };

})(jQuery);